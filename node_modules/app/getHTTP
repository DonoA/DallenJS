var http = require("http"),
    parseString = require('xml2js').parseString;

var WebManager = {
    getHTML: function(site, url){
        var options = {
            host: site,
            port: 80,
            path: url
        };

        var content = "";   

        var req = http.request(options, function(res) {
            res.setEncoding("utf8");
            res.on("data", function (chunk) {
                content += chunk;
            });

            res.on("end", function () {
                console.log(content);
                parseString(content, function (err, result) {
                    if(err){
                        console.error(err);
                    }else{
                        return result;
                    }
                });
            });
        });

        req.end();
    }
};

module.exports = WebManager;