<!DOCTYPE html>
<html id="html">
  <head>
    <title>DonoA's Map</title>
	<link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/DonoA/DonoA.github.io/master/Images/favicon.ico" />
    <style>
              #body, #html, #map-canvas {
                height: 100%;
                margin: 0px;
                padding: 0px
              }
        </style>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
        <script>
            var ClaimTypeOptions = {
              getTileUrl: function(coord, zoom) {
                  var normalizedCoord = getNormalizedCoord(coord, zoom);
                  if (!normalizedCoord) {
                    return null;
                  }
                  var bound = Math.pow(2, zoom);
                  return 'https://raw.githubusercontent.com/DonoA/DonoA.github.io/master/Map/Claims' +
                      '/' + zoom + '/' + normalizedCoord.x + '-' +
                      (bound - normalizedCoord.y - 1) + '.png';
              },
              tileSize: new google.maps.Size(256, 256),
              maxZoom: 4,
              minZoom: 2,
              radius: 1738000,
              name: 'Claims'
            };

            var TerrainTypeOptions = {
              getTileUrl: function(coord, zoom) {
                  var normalizedCoord = getNormalizedCoord(coord, zoom);
                  if (!normalizedCoord) {
                    return null;
                  }
                  var bound = Math.pow(2, zoom);
                  return 'https://raw.githubusercontent.com/DonoA/DonoA.github.io/master/Map/Terrain' +
                      '/' + zoom + '/' + normalizedCoord.x + '-' +
                      (bound - normalizedCoord.y - 1) + '.png';
              },
              tileSize: new google.maps.Size(256, 256),
              maxZoom: 4,
              minZoom: 1,
              radius: 1738000,
              name: 'Terrain'
            };

            var ClaimMapType = new google.maps.ImageMapType(ClaimTypeOptions);
            var TerrainMapType = new google.maps.ImageMapType(TerrainTypeOptions);

            var places = [
                {pos: new google.maps.LatLng(71.08431232536932, 43.046875), name: '1', data: "some words"},
                {pos: new google.maps.LatLng(34.042453963965364, 72.578125), name: '2', data: "some words"},
                {pos: new google.maps.LatLng(80.90566912104622, -56.44531249999994), name: '3', data: "some words"},
                {pos: new google.maps.LatLng(78.32026417322989, -42.03124999999994), name: '4', data: "some words"},
                {pos: new google.maps.LatLng(81.01613460851291, 131.2890625), name: '5', data: "some words"},
                {pos: new google.maps.LatLng(74.87614338473858, 43.92578125), name: '6', data: "some words"},
                {pos: new google.maps.LatLng(77.51096075608073, 43.75), name: '7', data: "some words"},
                {pos: new google.maps.LatLng(46.095168103971425, 38.125), name: '8', data: "some words"},
                {pos: new google.maps.LatLng(70.7394152868622, 174.1796875), name: '9', data: "some words"},
                {pos: new google.maps.LatLng(80.0635087325344, 98.59375), name: '10', data: "some words"},
                {pos: new google.maps.LatLng(84.57769186257364, 167.8515625), name: '11', data: "some words"},
                {pos: new google.maps.LatLng(83.48395633480854, 173.828125), name: '12', data: "some words"},
                {pos: new google.maps.LatLng(83.64160937679394, 20.546875), name: '13', data: "some words"},
                {pos: new google.maps.LatLng(71.31093032919598, 148.8671875), name: '14', data: "some words"},
                {pos: new google.maps.LatLng(61.11607020904977, 154.84375), name: '15', data: "some words"},
                {pos: new google.maps.LatLng(44.8627132008861, 97.1875), name: '16', data: "some words"},
                {pos: new google.maps.LatLng(73.93122562671185, 155.1953125), name: '17', data: "some words"},
                {pos: new google.maps.LatLng(5.647461561941728, 70.46875), name: '18', data: "some words"},
                {pos: new google.maps.LatLng(22.622923965290965, 45.859375), name: '19', data: "some words"},
                {pos: new google.maps.LatLng(21.64598032426747, 6.484375), name: '20', data: "some words"},
                {pos: new google.maps.LatLng(61.11607020904979, -11.09375), name: '21', data: "some words"},
                {pos: new google.maps.LatLng(63.56263728593874, -26.2109375), name: '22', data: "some words"},
                {pos: new google.maps.LatLng(75.32803835896175, 120.0390625), name: '23', data: "some words"},
                {pos: new google.maps.LatLng(80.36229201040695, 50.78125), name: '24', data: "some words"}
                ];

            function initialize() {
              var myLatlng = new google.maps.LatLng(0, 0);
              var mapOptions = {
                center: myLatlng,
                zoom: 1,
                streetViewControl: false,
                mapTypeControlOptions: {
                  mapTypeIds: ['Claims', 'Terrain']
                }
              };

              var map = new google.maps.Map(document.getElementById('map-canvas'),
                  mapOptions);
              map.mapTypes.set('Claims', ClaimMapType);
              map.setMapTypeId('Claims');
              map.mapTypes.set('Terrain', TerrainMapType);
              map.setMapTypeId('Terrain');
                var markers = [];
              for (i = 0; i < places.length; i++) {
                 markers[i] = new google.maps.Marker({
                    map:map,
                    data: places[i].data,
                    title: places[i].name,
                    draggable:false,
                    animation: google.maps.Animation.DROP,
                    position: places[i].pos
                  });

                  google.maps.event.addListener(markers[i], 'click', function(i) {
                      for(j = 0; j < markers.length; j++){
                        if(i.latLng.equals(markers[j].position)){
                            console.log(markers[j].data);
                        }
                      }
                    });
              }
            //  marker = new google.maps.Marker({
            //    map:map,
            //    draggable:true,
            //    animation: google.maps.Animation.DROP,
            //    position: new google.maps.LatLng(10, 10)
            //  });
            //  google.maps.event.addListener(marker, 'click', toggleBounce);
            }
            function getNormalizedCoord(coord, zoom) {
              var y = coord.y;
              var x = coord.x;
              var tileRange = 1 << zoom;
              if (y < 0 || y >= tileRange) {
                return null;
              }
              if (x < 0 || x >= tileRange) {
                return null;
              }
              return {
                x: x,
                y: y
              };
            }
                    var counter = 1;
            function toggleBounce(marker) {
                console.log(marker);
            //  if (marker.getAnimation() != null) {
            //    marker.setAnimation(null);
            //  } else {
            //    marker.setAnimation(google.maps.Animation.BOUNCE);
            //    console.log("{pos: new google.maps.LatLng"+marker.getPosition().toString()+", name: '"+counter+"'}, ");
            //      counter++;
            //  }
            }

            function toggleInfo() {

              if (marker.getAnimation() != null) {
                marker.setAnimation(null);
              } else {
                marker.setAnimation(google.maps.Animation.BOUNCE);
                console.log("{pos: new google.maps.LatLng"+marker.getPosition().toString()+", name: '"+counter+"'}, ");
                  counter++;
              }
            }


            google.maps.event.addDomListener(window, 'load', initialize);
      </script>
  </head>
  <body id="body">
    <div id="map-canvas"></div>
  </body>
</html>
