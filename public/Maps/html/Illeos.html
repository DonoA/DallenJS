<!DOCTYPE html>
<html id="html">
  <head>
    <style>
        #body, #html, #map-canvas {
          height: 100%;
          margin: 0px;
          padding: 0px
        }
        </style>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
        <script>
        var TerrainTypeOptions = {
          getTileUrl: function(coord, zoom) {
              var normalizedCoord = getNormalizedCoord(coord, zoom);
              if (!normalizedCoord) {
                return null;
              }
              var bound = Math.pow(2, zoom);
              return '/Maps/Illeos' +
                  '/' + zoom + '/' + normalizedCoord.x + '-' +
                  (bound - normalizedCoord.y - 1) + '.jpg';
          },
          tileSize: new google.maps.Size(256, 256),
          maxZoom: 3,
          minZoom: 0,
          radius: 1738000,
          name: 'Terrain'
        };

        var TerrainMapType = new google.maps.ImageMapType(TerrainTypeOptions);

        var places = [
            //{pos: new google.maps.LatLng(71.08431232536932, 43.046875), name: '1', data: "some words"}
            ];

        function initialize() {
          var myLatlng = new google.maps.LatLng(0, 0);
          var mapOptions = {
            center: myLatlng,
            zoom: 1,
            streetViewControl: false,
            mapTypeControlOptions: {
              mapTypeIds: ['Claims', 'Terrain']
            }
          };

          var map = new google.maps.Map(document.getElementById('map-canvas'),
              mapOptions);
          // map.mapTypes.set('Claims', ClaimMapType);
          // map.setMapTypeId('Claims');
          map.mapTypes.set('Terrain', TerrainMapType);
          map.setMapTypeId('Terrain');
            var markers = [];
          for (i = 0; i < places.length; i++) {
             markers[i] = new google.maps.Marker({
                map:map,
                data: places[i].data,
                title: places[i].name,
                draggable:false,
                animation: google.maps.Animation.DROP,
                position: places[i].pos
              });

              google.maps.event.addListener(markers[i], 'click', function(i) {
                  for(j = 0; j < markers.length; j++){
                    if(i.latLng.equals(markers[j].position)){
                        console.log(markers[j].data);
                    }
                  }
                });
          }
        }
        function getNormalizedCoord(coord, zoom) {
          var y = coord.y;
          var x = coord.x;
          var tileRange = 1 << zoom;
          if (y < 0 || y >= tileRange) {
            return null;
          }

          // repeat across x-axis
          if (x < 0 || x >= tileRange) {
            return null;
          }

          return {
            x: x,
            y: y
          };
        }
                var counter = 1;
        function toggleBounce(marker) {
            console.log(marker);
        }

        function toggleInfo() {

          if (marker.getAnimation() != null) {
            marker.setAnimation(null);
          } else {
            marker.setAnimation(google.maps.Animation.BOUNCE);
            console.log("{pos: new google.maps.LatLng"+marker.getPosition().toString()+", name: '"+counter+"'}, ");
            counter++;
          }
        }
        google.maps.event.addDomListener(window, 'load', initialize);

      </script>
  </head>
  <body id="body">
    <div id="map-canvas"></div>
  </body>
</html>
